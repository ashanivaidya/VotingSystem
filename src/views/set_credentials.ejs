<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set Credentials</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>
<body>
    <div class="px-2 py-2">
        <h2 style="text-align: center;">Set Username & Password</h2>
        <div style="padding-left: 350px; padding-right: 350px; padding-top: 50px;">
            
            <form action="/setCredentials" method="POST">
                <div class="form-group">
                    <label for="exampleInputEmail0">Email id</label>
                    <input type="text" class="form-control" name="exampleInputEmail0" id="exampleInputEmail0" placeholder="Enter email id">
                    
                  </div>
                    <div class="form-group">
                      <label for="exampleInputEmail1">Username</label>
                      <input type="text" class="form-control" name="exampleInputEmail1" id="exampleInputEmail1" placeholder="Enter username">
                      
                    </div>
                    <div class="form-group">
                      <label for="exampleInputPassword1">Password</label>
                      <input type="password" class="form-control" name="exampleInputPassword1" id="exampleInputPassword1" placeholder="Password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword2">Re-enter Password</label>
                        <input type="password" class="form-control" onkeyup='check();' name="exampleInputPassword2" id="exampleInputPassword2" placeholder="Re-enter Password" >
                      </div>
                      <span id='message'></span><br>
                    <button type="submit" id="submitbutton" disabled class="btn btn-primary">Submit</button><br>
                    <% if(message) { %>
                        <div class="alert alert-success" role="alert"><%= message %> or click <a href="http://localhost:3000">here</a></div>
                        <% } %>
            </form>
        </div>
        
    </div>
<script>
  var check = function() {
  if (document.getElementById('exampleInputPassword1').value ==
    document.getElementById('exampleInputPassword2').value) {
      document.getElementById('message').style.display = 'none';
      document.getElementById('submitbutton').disabled = false;
  } else {
    document.getElementById('message').style.display = 'block';
    document.getElementById('submitbutton').disabled = true;

    document.getElementById('message').style.color = 'red';
    document.getElementById('message').innerHTML = 'passwords do not match';
  }
}
</script>
</body>
</html>